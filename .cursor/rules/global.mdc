---
description:
globs:
alwaysApply: true
---

When building these experiences, people will refer to the "devvit app" ([/src/devvit](mdc:src/devvit)) and "client" ([/src/client](mdc:src/client)).

Folders to code in:

- [/src/client](mdc:src/client): This is the full screen webview. To persist data and access the server, call `fetch(/my/api/endpoint)`. This is how you get access to the APIs you write in [/src/server](mdc:src/server).
- [/src/server](mdc:src/server): This is a serverless backend written in Node. This is where you can access redis and save data.
- [/src/shared](mdc:src/shared): This is where you can place code that is to be shared between the devvit app, client, and server and the webview. It's a great place for shared types.

Rules:

- Assume that typescript, vite, tailwind, eslint, prettier, and all codebase configuration is working. If there is a bug, it is more likely your code than the codebase configuration.
- Prefer type aliases over interfaces when writing typescript
- **Always ask what to implement before implementing.** By default, only answer questions in text; do not change code or propose features unless the user explicitly asks to build something (e.g. "add", "implement", "make", "fix", "revert"). For questions like "how do I do X?" — answer in text only, no code edits and no suggestions to implement. When the user does ask to implement, propose options or clarify the approach, then implement only after they choose. Do not pick a solution and write code without the user's explicit choice.
- **Do not make changes without explicit request.** When investigating or checking something (e.g., checking git history, examining code), stop after reporting findings. Do not proceed to implement changes based on assumptions. Wait for explicit instructions before making any code modifications.
- **When checking git commits, use proper git commands.** To examine files in a specific commit, use `git show <commit>:<path>` or `git checkout <commit>` to view files directly. Do NOT use `grep` on current working directory files to infer what exists in a commit — files may have been deleted or changed since that commit. Always verify commit contents using git commands, not assumptions based on current file state.